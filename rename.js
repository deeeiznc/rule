/**
 * Usage: Add a script operatioKeyn to the Sub-Store
 * Parameter example: #flag&blkey=GPT>new name+NF
 */
const inArg = $arguments,
  {
    nx = false,
    bl = false,
    nf = false,
    blgd = false,
    blpx = false,
    blnx = false,
    clear = false,
    nm = false,
    flag: addflag = false,
  } = inArg,
  FGF = decodeURI(inArg.fgf ?? " "),
  FNAME = decodeURI(inArg.name ?? ""),
  BLKEY = decodeURI(inArg.blkey ?? "");

const abbr = [
    "HK",
    "JP",
    "SG",
    "US",
    "TW",
    "KR",
    "NL",
    "DE",
    "GB",
    "FR",
    "AU",
    "MO",
    "EU",
    "AE",
    "AF",
    "AL",
    "DZ",
    "AO",
    "AR",
    "AM",
    "AT",
    "AZ",
    "BH",
    "BD",
    "BY",
    "BE",
    "BZ",
    "BJ",
    "BT",
    "BO",
    "BA",
    "BW",
    "BR",
    "VG",
    "BN",
    "BG",
    "BF",
    "BI",
    "KH",
    "CM",
    "CA",
    "CV",
    "KY",
    "CF",
    "TD",
    "CL",
    "CO",
    "KM",
    "CG",
    "CD",
    "CR",
    "HR",
    "CY",
    "CZ",
    "DK",
    "DJ",
    "DO",
    "EC",
    "EG",
    "SV",
    "GQ",
    "ER",
    "EE",
    "ET",
    "FJ",
    "FI",
    "GA",
    "GM",
    "GE",
    "GH",
    "GR",
    "GL",
    "GT",
    "GN",
    "GY",
    "HT",
    "HN",
    "HU",
    "IS",
    "IN",
    "ID",
    "IR",
    "IQ",
    "IE",
    "IM",
    "IL",
    "IT",
    "CI",
    "JM",
    "JO",
    "KZ",
    "KE",
    "KW",
    "KG",
    "LA",
    "LV",
    "LB",
    "LS",
    "LR",
    "LY",
    "LT",
    "LU",
    "MK",
    "MG",
    "MW",
    "MY",
    "MV",
    "ML",
    "MT",
    "MR",
    "MU",
    "MX",
    "MD",
    "MC",
    "MN",
    "ME",
    "MA",
    "MZ",
    "MM",
    "NA",
    "NP",
    "NZ",
    "NI",
    "NE",
    "NG",
    "KP",
    "NO",
    "OM",
    "PK",
    "PA",
    "PY",
    "PE",
    "PH",
    "PT",
    "PR",
    "QA",
    "RO",
    "RU",
    "RW",
    "SM",
    "SA",
    "SN",
    "RS",
    "SL",
    "SK",
    "SI",
    "SO",
    "ZA",
    "ES",
    "LK",
    "SD",
    "SR",
    "SZ",
    "SE",
    "CH",
    "SY",
    "TJ",
    "TZ",
    "TH",
    "TG",
    "TO",
    "TT",
    "TN",
    "TR",
    "TM",
    "VI",
    "UG",
    "UA",
    "UY",
    "UZ",
    "VE",
    "VN",
    "YE",
    "ZM",
    "ZW",
    "AD",
    "RE",
    "PL",
    "GU",
    "VA",
    "LI",
    "CW",
    "SC",
    "AQ",
    "GI",
    "CU",
    "FO",
    "AX",
    "BM",
    "TL",
  ],
  zh = [
    "È¶ôÊ∏Ø",
    "Êó•Êú¨",
    "Êñ∞Âä†Âù°",
    "ÁæéÂõΩ",
    "Âè∞Êπæ",
    "Èü©ÂõΩ",
    "Ëç∑ÂÖ∞",
    "Âæ∑ÂõΩ",
    "Ëã±ÂõΩ",
    "Ê≥ïÂõΩ",
    "Êæ≥Â§ßÂà©‰∫ö",
    "Êæ≥Èó®",
    "Ê¨ßÊ¥≤",
    "ÈòøËÅîÈÖã",
    "ÈòøÂØåÊ±ó",
    "ÈòøÂ∞îÂ∑¥Â∞º‰∫ö",
    "ÈòøÂ∞îÂèäÂà©‰∫ö",
    "ÂÆâÂì•Êãâ",
    "ÈòøÊ†πÂª∑",
    "‰∫öÁæéÂ∞º‰∫ö",
    "Â••Âú∞Âà©",
    "ÈòøÂ°ûÊãúÁñÜ",
    "Â∑¥Êûó",
    "Â≠üÂä†ÊãâÂõΩ",
    "ÁôΩ‰øÑÁΩóÊñØ",
    "ÊØîÂà©Êó∂",
    "‰ºØÂà©ÂÖπ",
    "Ë¥ùÂÆÅ",
    "‰∏ç‰∏π",
    "ÁéªÂà©Áª¥‰∫ö",
    "Ê≥¢ÊñØÂ∞º‰∫öÂíåÈªëÂ°ûÂì•Áª¥ÈÇ£",
    "ÂçöËå®Áì¶Á∫≥",
    "Â∑¥Ë•ø",
    "Ëã±Â±ûÁª¥‰∫¨Áæ§Â≤õ",
    "ÊñáËé±",
    "‰øùÂä†Âà©‰∫ö",
    "Â∏ÉÂü∫Á∫≥Ê≥ïÁ¥¢",
    "Â∏ÉÈöÜËø™",
    "Êü¨ÂüîÂØ®",
    "ÂñÄÈ∫¶ÈöÜ",
    "Âä†ÊãøÂ§ß",
    "‰ΩõÂæóËßí",
    "ÂºÄÊõºÁæ§Â≤õ",
    "‰∏≠ÈùûÂÖ±ÂíåÂõΩ",
    "‰πçÂæó",
    "Êô∫Âà©",
    "Âì•‰º¶ÊØî‰∫ö",
    "ÁßëÊë©ÁΩó",
    "ÂàöÊûú(Â∏É)",
    "ÂàöÊûú(Èáë)",
    "Âì•ÊñØËææÈªéÂä†",
    "ÂÖãÁΩóÂú∞‰∫ö",
    "Â°ûÊµ¶Ë∑ØÊñØ",
    "Êç∑ÂÖã",
    "‰∏πÈ∫¶",
    "ÂêâÂ∏ÉÊèê",
    "Â§öÁ±≥Â∞ºÂä†ÂÖ±ÂíåÂõΩ",
    "ÂéÑÁìúÂ§öÂ∞î",
    "ÂüÉÂèä",
    "Ëê®Â∞îÁì¶Â§ö",
    "Ëµ§ÈÅìÂá†ÂÜÖ‰∫ö",
    "ÂéÑÁ´ãÁâπÈáå‰∫ö",
    "Áà±Ê≤ôÂ∞º‰∫ö",
    "ÂüÉÂ°û‰øÑÊØî‰∫ö",
    "ÊñêÊµé",
    "Ëä¨ÂÖ∞",
    "Âä†Ëì¨",
    "ÂÜàÊØî‰∫ö",
    "Ê†ºÈ≤ÅÂêâ‰∫ö",
    "Âä†Á∫≥",
    "Â∏åËÖä",
    "Ê†ºÈôµÂÖ∞",
    "Âç±Âú∞È©¨Êãâ",
    "Âá†ÂÜÖ‰∫ö",
    "Âú≠‰∫öÈÇ£",
    "Êµ∑Âú∞",
    "Ê¥™ÈÉΩÊãâÊñØ",
    "ÂåàÁâôÂà©",
    "ÂÜ∞Â≤õ",
    "Âç∞Â∫¶",
    "Âç∞Â∞º",
    "‰ºäÊúó",
    "‰ºäÊãâÂÖã",
    "Áà±Â∞îÂÖ∞",
    "È©¨ÊÅ©Â≤õ",
    "‰ª•Ëâ≤Âàó",
    "ÊÑèÂ§ßÂà©",
    "ÁßëÁâπËø™Áì¶",
    "Áâô‰π∞Âä†",
    "Á∫¶Êó¶",
    "ÂìàËê®ÂÖãÊñØÂù¶",
    "ËÇØÂ∞º‰∫ö",
    "ÁßëÂ®ÅÁâπ",
    "ÂêâÂ∞îÂêâÊñØÊñØÂù¶",
    "ËÄÅÊåù",
    "ÊãâËÑ±Áª¥‰∫ö",
    "ÈªéÂ∑¥Â´©",
    "Ëé±Á¥¢Êâò",
    "Âà©ÊØîÈáå‰∫ö",
    "Âà©ÊØî‰∫ö",
    "Á´ãÈô∂ÂÆõ",
    "Âç¢Ê£ÆÂ†°",
    "È©¨ÂÖ∂È°ø",
    "È©¨ËææÂä†ÊñØÂä†",
    "È©¨ÊãâÁª¥",
    "È©¨Êù•",
    "È©¨Â∞î‰ª£Â§´",
    "È©¨Èáå",
    "È©¨ËÄ≥‰ªñ",
    "ÊØõÂà©Â°îÂ∞º‰∫ö",
    "ÊØõÈáåÊ±ÇÊñØ",
    "Â¢®Ë•øÂì•",
    "Êë©Â∞îÂ§öÁì¶",
    "Êë©Á∫≥Âì•",
    "ËíôÂè§",
    "ÈªëÂ±±ÂÖ±ÂíåÂõΩ",
    "Êë©Ê¥õÂì•",
    "Ëé´Ê°ëÊØîÂÖã",
    "ÁºÖÁî∏",
    "Á∫≥Á±≥ÊØî‰∫ö",
    "Â∞ºÊ≥äÂ∞î",
    "Êñ∞Ë•øÂÖ∞",
    "Â∞ºÂä†ÊãâÁìú",
    "Â∞ºÊó•Â∞î",
    "Â∞ºÊó•Âà©‰∫ö",
    "ÊúùÈ≤ú",
    "Êå™Â®Å",
    "ÈòøÊõº",
    "Â∑¥Âü∫ÊñØÂù¶",
    "Â∑¥ÊãøÈ©¨",
    "Â∑¥ÊãâÂú≠",
    "ÁßòÈ≤Å",
    "Ëè≤ÂæãÂÆæ",
    "Ëë°ËêÑÁâô",
    "Ê≥¢Â§öÈªéÂêÑ",
    "Âç°Â°îÂ∞î",
    "ÁΩóÈ©¨Â∞º‰∫ö",
    "‰øÑÁΩóÊñØ",
    "Âç¢Êó∫Ëææ",
    "Âú£È©¨ÂäõËØ∫",
    "Ê≤ôÁâπÈòøÊãâ‰ºØ",
    "Â°ûÂÜÖÂä†Â∞î",
    "Â°ûÂ∞îÁª¥‰∫ö",
    "Â°ûÊãâÂà©ÊòÇ",
    "ÊñØÊ¥õ‰ºêÂÖã",
    "ÊñØÊ¥õÊñáÂ∞º‰∫ö",
    "Á¥¢È©¨Èáå",
    "ÂçóÈùû",
    "Ë•øÁè≠Áâô",
    "ÊñØÈáåÂÖ∞Âç°",
    "Ëãè‰∏π",
    "ËãèÈáåÂçó",
    "ÊñØÂ®ÅÂ£´ÂÖ∞",
    "ÁëûÂÖ∏",
    "ÁëûÂ£´",
    "ÂèôÂà©‰∫ö",
    "Â°îÂêâÂÖãÊñØÂù¶",
    "Âù¶Ê°ëÂ∞º‰∫ö",
    "Ê≥∞ÂõΩ",
    "Â§öÂì•",
    "Ê±§Âä†",
    "ÁâπÁ´ãÂ∞ºËææÂíåÂ§öÂ∑¥Âì•",
    "Á™ÅÂ∞ºÊñØ",
    "ÂúüËÄ≥ÂÖ∂",
    "ÂúüÂ∫ìÊõºÊñØÂù¶",
    "ÁæéÂ±ûÁª¥Â∞î‰∫¨Áæ§Â≤õ",
    "‰πåÂπ≤Ëææ",
    "‰πåÂÖãÂÖ∞",
    "‰πåÊãâÂú≠",
    "‰πåÂÖπÂà´ÂÖãÊñØÂù¶",
    "ÂßîÂÜÖÁëûÊãâ",
    "Ë∂äÂçó",
    "‰πüÈó®",
    "ËµûÊØî‰∫ö",
    "Ê¥•Â∑¥Â∏ÉÈü¶",
    "ÂÆâÈÅìÂ∞î",
    "ÁïôÂ∞ºÊ±™",
    "Ê≥¢ÂÖ∞",
    "ÂÖ≥Â≤õ",
    "Ê¢µËíÇÂÜà",
    "ÂàóÊîØÊï¶Â£´Áôª",
    "Â∫ìÊãâÁ¥¢",
    "Â°ûËàåÂ∞î",
    "ÂçóÊûÅ",
    "Áõ¥Â∏ÉÁΩóÈôÄ",
    "Âè§Â∑¥",
    "Ê≥ïÁΩóÁæ§Â≤õ",
    "Â••ÂÖ∞Áæ§Â≤õ",
    "ÁôæÊÖïËææ",
    "‰∏úÂ∏ùÊ±∂",
  ],
  en = [
    "Hong Kong",
    "Japan",
    "Singapore",
    "United States",
    "Taiwan",
    "South Korea",
    "Netherlands",
    "Germany",
    "United Kingdom",
    "France",
    "Australia",
    "Macau",
    "Europe",
    "United Arab Emirates",
    "Afghanistan",
    "Albania",
    "Algeria",
    "Angola",
    "Argentina",
    "Armenia",
    "Austria",
    "Azerbaijan",
    "Bahrain",
    "Bangladesh",
    "Belarus",
    "Belgium",
    "Belize",
    "Benin",
    "Bhutan",
    "Bolivia",
    "Bosnia and Herzegovina",
    "Botswana",
    "Brazil",
    "British Virgin Islands",
    "Brunei",
    "Bulgaria",
    "Burkina Faso",
    "Burundi",
    "Cambodia",
    "Cameroon",
    "Canada",
    "Cape Verde",
    "Cayman Islands",
    "Central African Republic",
    "Chad",
    "Chile",
    "Colombia",
    "Comoros",
    "Congo - Brazzaville",
    "Congo - Kinshasa",
    "Costa Rica",
    "Croatia",
    "Cyprus",
    "Czechia",
    "Denmark",
    "Djibouti",
    "Dominican Republic",
    "Ecuador",
    "Egypt",
    "El Salvador",
    "Equatorial Guinea",
    "Eritrea",
    "Estonia",
    "Ethiopia",
    "Fiji",
    "Finland",
    "Gabon",
    "Gambia",
    "Georgia",
    "Ghana",
    "Greece",
    "Greenland",
    "Guatemala",
    "Guinea",
    "Guyana",
    "Haiti",
    "Honduras",
    "Hungary",
    "Iceland",
    "India",
    "Indonesia",
    "Iran",
    "Iraq",
    "Ireland",
    "Isle of Man",
    "Israel",
    "Italy",
    "C√¥te d‚ÄôIvoire",
    "Jamaica",
    "Jordan",
    "Kazakhstan",
    "Kenya",
    "Kuwait",
    "Kyrgyzstan",
    "Laos",
    "Latvia",
    "Lebanon",
    "Lesotho",
    "Liberia",
    "Libya",
    "Lithuania",
    "Luxembourg",
    "North Macedonia",
    "Madagascar",
    "Malawi",
    "Malaysia",
    "Maldives",
    "Mali",
    "Malta",
    "Mauritania",
    "Mauritius",
    "Mexico",
    "Moldova",
    "Monaco",
    "Mongolia",
    "Montenegro",
    "Morocco",
    "Mozambique",
    "Myanmar",
    "Namibia",
    "Nepal",
    "New Zealand",
    "Nicaragua",
    "Niger",
    "Nigeria",
    "North Korea",
    "Norway",
    "Oman",
    "Pakistan",
    "Panama",
    "Paraguay",
    "Peru",
    "Philippines",
    "Portugal",
    "Puerto Rico",
    "Qatar",
    "Romania",
    "Russia",
    "Rwanda",
    "San Marino",
    "Saudi Arabia",
    "Senegal",
    "Serbia",
    "Sierra Leone",
    "Slovakia",
    "Slovenia",
    "Somalia",
    "South Africa",
    "Spain",
    "Sri Lanka",
    "Sudan",
    "Suriname",
    "Eswatini",
    "Sweden",
    "Switzerland",
    "Syria",
    "Tajikistan",
    "Tanzania",
    "Thailand",
    "Togo",
    "Tonga",
    "Trinidad and Tobago",
    "Tunisia",
    "Turkey",
    "Turkmenistan",
    "U.S. Virgin Islands",
    "Uganda",
    "Ukraine",
    "Uruguay",
    "Uzbekistan",
    "Venezuela",
    "Vietnam",
    "Yemen",
    "Zambia",
    "Zimbabwe",
    "Andorra",
    "R√©union",
    "Poland",
    "Guam",
    "Vatican City",
    "Liechtenstein",
    "Cura√ßao",
    "Seychelles",
    "Antarctica",
    "Gibraltar",
    "Cuba",
    "Faroe Islands",
    "√Öland Islands",
    "Bermuda",
    "Timor-Leste",
  ],
  flag = [
    "üá≠üá∞",
    "üáØüáµ",
    "üá∏üá¨",
    "üá∫üá∏",
    "üá®üá≥",
    "üá∞üá∑",
    "üá≥üá±",
    "üá©üá™",
    "üá¨üáß",
    "üá´üá∑",
    "üá¶üá∫",
    "üá≤üá¥",
    "üá™üá∫",
    "üá¶üá™",
    "üá¶üá´",
    "üá¶üá±",
    "üá©üáø",
    "üá¶üá¥",
    "üá¶üá∑",
    "üá¶üá≤",
    "üá¶üáπ",
    "üá¶üáø",
    "üáßüá≠",
    "üáßüá©",
    "üáßüáæ",
    "üáßüá™",
    "üáßüáø",
    "üáßüáØ",
    "üáßüáπ",
    "üáßüá¥",
    "üáßüá¶",
    "üáßüáº",
    "üáßüá∑",
    "üáªüá¨",
    "üáßüá≥",
    "üáßüá¨",
    "üáßüá´",
    "üáßüáÆ",
    "üá∞üá≠",
    "üá®üá≤",
    "üá®üá¶",
    "üá®üáª",
    "üá∞üáæ",
    "üá®üá´",
    "üáπüá©",
    "üá®üá±",
    "üá®üá¥",
    "üá∞üá≤",
    "üá®üá¨",
    "üá®üá©",
    "üá®üá∑",
    "üá≠üá∑",
    "üá®üáæ",
    "üá®üáø",
    "üá©üá∞",
    "üá©üáØ",
    "üá©üá¥",
    "üá™üá®",
    "üá™üá¨",
    "üá∏üáª",
    "üá¨üá∂",
    "üá™üá∑",
    "üá™üá™",
    "üá™üáπ",
    "üá´üáØ",
    "üá´üáÆ",
    "üá¨üá¶",
    "üá¨üá≤",
    "üá¨üá™",
    "üá¨üá≠",
    "üá¨üá∑",
    "üá¨üá±",
    "üá¨üáπ",
    "üá¨üá≥",
    "üá¨üáæ",
    "üá≠üáπ",
    "üá≠üá≥",
    "üá≠üá∫",
    "üáÆüá∏",
    "üáÆüá≥",
    "üáÆüá©",
    "üáÆüá∑",
    "üáÆüá∂",
    "üáÆüá™",
    "üáÆüá≤",
    "üáÆüá±",
    "üáÆüáπ",
    "üá®üáÆ",
    "üáØüá≤",
    "üáØüá¥",
    "üá∞üáø",
    "üá∞üá™",
    "üá∞üáº",
    "üá∞üá¨",
    "üá±üá¶",
    "üá±üáª",
    "üá±üáß",
    "üá±üá∏",
    "üá±üá∑",
    "üá±üáæ",
    "üá±üáπ",
    "üá±üá∫",
    "üá≤üá∞",
    "üá≤üá¨",
    "üá≤üáº",
    "üá≤üáæ",
    "üá≤üáª",
    "üá≤üá±",
    "üá≤üáπ",
    "üá≤üá∑",
    "üá≤üá∫",
    "üá≤üáΩ",
    "üá≤üá©",
    "üá≤üá®",
    "üá≤üá≥",
    "üá≤üá™",
    "üá≤üá¶",
    "üá≤üáø",
    "üá≤üá≤",
    "üá≥üá¶",
    "üá≥üáµ",
    "üá≥üáø",
    "üá≥üáÆ",
    "üá≥üá™",
    "üá≥üá¨",
    "üá∞üáµ",
    "üá≥üá¥",
    "üá¥üá≤",
    "üáµüá∞",
    "üáµüá¶",
    "üáµüáæ",
    "üáµüá™",
    "üáµüá≠",
    "üáµüáπ",
    "üáµüá∑",
    "üá∂üá¶",
    "üá∑üá¥",
    "üá∑üá∫",
    "üá∑üáº",
    "üá∏üá≤",
    "üá∏üá¶",
    "üá∏üá≥",
    "üá∑üá∏",
    "üá∏üá±",
    "üá∏üá∞",
    "üá∏üáÆ",
    "üá∏üá¥",
    "üáøüá¶",
    "üá™üá∏",
    "üá±üá∞",
    "üá∏üá©",
    "üá∏üá∑",
    "üá∏üáø",
    "üá∏üá™",
    "üá®üá≠",
    "üá∏üáæ",
    "üáπüáØ",
    "üáπüáø",
    "üáπüá≠",
    "üáπüá¨",
    "üáπüá¥",
    "üáπüáπ",
    "üáπüá≥",
    "üáπüá∑",
    "üáπüá≤",
    "üáªüáÆ",
    "üá∫üá¨",
    "üá∫üá¶",
    "üá∫üáæ",
    "üá∫üáø",
    "üáªüá™",
    "üáªüá≥",
    "üáæüá™",
    "üáøüá≤",
    "üáøüáº",
    "üá¶üá©",
    "üá∑üá™",
    "üáµüá±",
    "üá¨üá∫",
    "üáªüá¶",
    "üá±üáÆ",
    "üá®üáº",
    "üá∏üá®",
    "üá¶üá∂",
    "üá¨üáÆ",
    "üá®üá∫",
    "üá´üá¥",
    "üá¶üáΩ",
    "üáßüá≤",
    "üáπüá±",
  ];

const regexpxUse = [
    /Home/,
    /Emby/,
    /Netflix|Pornhub/,
    /Biz|DC1|DC2|DC3|DC4|DC5|Game|Shop|GooglePlay/,
  ],
  nameclear =
    /Â•óÈ§ê|Âà∞Êúü|ÊúâÊïà|Ââ©‰Ωô|ÁâàÊú¨|Â∑≤Áî®|ËøáÊúü|Â§±ËÅî|ÊµãËØï|ÂÆòÊñπ|ÁΩëÂùÄ|Â§áÁî®|Áæ§|ÂÆ¢Êúç|ÁΩëÁ´ô|Ëé∑Âèñ|ËÆ¢ÈòÖ|ÊµÅÈáè|Êú∫Âú∫|‰∏ãÊ¨°|ÂÆòÂùÄ|ËÅîÁ≥ª|ÈÇÆÁÆ±|Â∑•Âçï|Â≠¶ÊúØ|ÊñáÊ°£|USE|TOTAL|EXPIRE|EMAIL|TRAFFIC|\d\s?[GTM](?:[^AC-Z0-9]|$)/i,
  regexpUse = [
    /ÂÆ∂ÂÆΩ|HOME|\bHO\b/i,
    /EMBY/i,
    /NETFLIX|Â•àÈ£û|ÁΩëÈ£û/i,
    /PORNHUB/i,
    /ÂïÜÂÆΩ|BUSINESS|BIZ/i,
    /DC1/,
    /DC2/,
    /DC3/,
    /DC4/,
    /DC5/,
    /Ê∏∏Êàè|GAME/i,
    /Ë¥≠Áâ©|SHOP/i,
    /GOOGLE PLAY|GOOGLEPLAY|Play ÂïÜÂ∫ó/i,
  ],
  valueUse = [
    "Home",
    "Emby",
    "Netflix",
    "Pornhub",
    "Biz",
    "DC1",
    "DC2",
    "DC3",
    "DC4",
    "DC5",
    "Game",
    "Shop",
    "GooglePlay",
  ],
  regexpLanding1 = [
    /\bEONS\b/i,
    /NEAROUTE/i,
    /\bHKT\b/i,
    /HKBN/i,
    /HGC/i,
    /I-?CABLE/i,
    /JINX/i,
    /MISAKA/i,
    /DMIT/i,
    /SALMON/i,
    /\bFXT\b/i,
    /UPNET/i,
    /AKARI/i,
    /SEEDNET/i,
    /PITTQIAO|\bPQS\b/i,
    /\bAPOL\b/i,
    /AKILE/i,
    /SG\.GS/i,
    /DIGITALOCEAN/i,
    /\bAWS\b/i,
    /SINGTEL/i,
    /NEROCLOUD/i,
    /TERABIX/i,
    /\bTM\b/,
    /\bCAT\b/,
    /BANGMOD/i,
    /EXETEL/i,
    /ORACLE/i,
    /VERIZON/i,
    /AT&T/i,
    /FRONTIER/i,
    /COMCAST/i,
    /VIDEOTRON/i,
    /WEBCONEX/i,
    /VODAFONE/i,
    /\bBT\b/,
    /\bLG\b/,
    /\bSK\b/,
    /\bKT\b/,
    /SEJONG/i,
    /KDDI/i,
    /MIKU/i,
    /RAKUTEN/i,
    /BIGLOBE/i,
    /HINET/i,
    /BAGE/i,
    /SOFTBANK/i,
    /SONET/i,
    /EASTERN/i,
  ],
  valueLanding1 = [
    "Eons",
    "Nearoute",
    "HKT",
    "HKBN",
    "HGC",
    "i-Cable",
    "Jinx",
    "Misaka",
    "Dmit",
    "Salmon",
    "FxT",
    "Upnet",
    "Akari",
    "Seednet",
    "PQS",
    "Apol",
    "Akile",
    "SG.GS",
    "DigitalOcean",
    "AWS",
    "Singtel",
    "Nerocloud",
    "Terabix",
    "TM",
    "CAT",
    "Bangmod",
    "Exetel",
    "Oracle",
    "Verizon",
    "AT&T",
    "Frontier",
    "Comcast",
    "Videotron",
    "Webconex",
    "Vodafone",
    "BT",
    "LG",
    "SK",
    "KT",
    "Sejong",
    "KDDI",
    "Miku",
    "Rakuten",
    "Biglobe",
    "Hinet",
    "Bage",
    "SoftBank",
    "SoNet",
    "Eastern",
  ],
  regexpLanding2 = [/CLOUDFLARE/i],
  regexpLanding2b = [/\bCF\b/],
  valueLanding2 = ["CF"],
  regexpEntryRegion = [
    /Ê∑±|SHENZHEN/i,
    /Âπø|GUANGZHOU/i,
    /Á≤§|GUANGDONG/i,
    /‰∏äÊµ∑|Ê≤™|SHANGHAI/i,
    /Âåó‰∫¨|‰∫¨|BEIJING/i,
    /ÂÆÅÊ≥¢|Áî¨|NINGBO/i,
    /Êù≠Â∑û|Êù≠|HANGZHOU/i,
  ],
  regexpEntryRegionb = [
    /\bSZ|SZ\b/,
    /\bGZ|GZ\b/,
    /\bGD|GD\b/,
    /\bSH|SH\b/,
    /\bBJ|BJ\b/,
    /\bNB|NB\b/,
    /\bHZ|HZ\b/,
  ],
  valueEntryRegion = ["SZ", "GZ", "GD", "SH", "BJ", "NB", "HZ"],
  regexpEntryCloud1 = [/ËêåÂáõ‰∫ë|OWO/i],
  valueEntryCloud1 = ["OwOCloud"],
  regexpEntryCloud2 = [
    /ÂîØ‰∏Ä|ÂîØ‰∫ë|WEIYI|WEIYUN|WCLOUD/i,
    /‰ºòÂàªÂæó|UCLOUD/i,
    /ËÖæËÆØ|TENCENT/i,
    /ÈòøÈáå|ALIBABA|ALIYUN|ALICLOUD/i,
    /ÁÅ´Â±±|VOLCANO|VOLCLOUD/i,
    /ÁΩëÊòì|NETEASE/i,
    /ÂæÆËΩØ|MICROSOFT/i,
    /ÁôæÂ∫¶|BAIDU/i,
  ],
  regexpEntryCloud2b = [
    /\bWY|WY\b/,
    /\bUDPN|UDPN\b/,
    /\bTX|TX\b/,
    /\bAli|Ali\b/,
    /\bHS|HS\b/,
    /\bNE|NE\b/,
    /\bMS|MS\b/,
    /\bBD|BD\b/,
  ],
  valueEntryCloud2 = [
    "WCloud",
    "UCloud",
    "Tencent",
    "Aliyun",
    "Volcano",
    "Netease",
    "Microsoft",
    "Baidu",
  ],
  regexpEntryISP = [/Áîµ‰ø°|TELECOM/i, /ÁßªÂä®|MOBILE/i, /ËÅîÈÄö|UNICOM/i],
  regexpEntryISPb = [/\bCT|CT\b/, /\bCM|CM\b/, /\bCU|CU\b/],
  valueEntryISP = ["CT", "CM", "CU"],
  nameblnx = /(È´òÂÄç|(?!1)2+(x|ÂÄç)|À£¬≤|À£¬≥|À£‚Å¥|À£‚Åµ|À£¬π‚Å∞)/i,
  namenx = /(È´òÂÄç|(?!1)(0\.|\d)+(x|ÂÄç)|À£¬≤|À£¬≥|À£‚Å¥|À£‚Åµ|À£¬π‚Å∞)/i,
  rureRegExp = [
    /Ê≥∞/,
    /‰øÑ/,
    /Ê¨ß/,
    /Êæ≥/,
    /Ê≥ï/,
    /Âæ∑/,
    /Èü©|Korea/,
    /Âè∞/,
    /Áæé/,
    /Êñ∞|Âù°/,
    /Êó•/,
    /Ê∏Ø/,
    /TUR|‰ºäÊñØÂù¶Â∏ÉÂ∞î/,
    /ÊõºË∞∑|Ê≥∞Âúã/,
    /Zurich|ËãèÈªé‰∏ñ/,
    /Moscow|Ëé´ÊñØÁßë/,
    /Âç∞Â∫¶Â∞ºË•ø‰∫ö|ÈõÖÂä†Ëææ/,
    /Mumbai|Â≠ü‰π∞/,
    /Ê≥¢ÈªëÂÖ±ÂíåÂõΩ/,
    /Â≠üÂä†Êãâ/,
    /Dubai|Ëø™Êãú|ÈòøÊãâ‰ºØËÅîÂêàÈÖãÈïøÂõΩ/,
    /Êæ≥Ê¥≤|Melbourne|Â¢®Â∞îÊú¨|Sydney|ÊÇâÂ∞º|(Ê∑±|Ê≤™|Âëº|‰∫¨|Âπø|Êù≠)Êæ≥/,
    /Paris|Â∑¥Èªé/,
    /UK|London|‰º¶Êï¶|Great Britain/,
    /(Ê∑±|Ê≤™|Âëº|‰∫¨|Âπø|Êù≠)Âæ∑(?!.*(I|Á∫ø))|Frankfurt|Ê≥ïÂÖ∞ÂÖãÁ¶è|Êª¨Âæ∑/,
    /Amsterdam|ÈòøÂßÜÊñØÁâπ‰∏π/,
    /Chuncheon|Êò•Â∑ù|Seoul|È¶ñÂ∞î/,
    /üáπüáº|Êñ∞Âè∞|Êñ∞Âåó|Âè∞(?!.*Á∫ø)/,
    /USA|Los Angeles|Ê¥õÊùâÁü∂|San Jose|Âú£‰ΩïÂ°û|Silicon Valley|Á°ÖË∞∑|Michigan|ÂØÜË•øÊ†π|Portland|Ê≥¢ÁâπÂÖ∞|Chicago|ËäùÂä†Âì•|Columbus|Âì•‰º¶Â∏É|New York|Á∫ΩÁ∫¶|Oregon|‰øÑÂãíÂÜà|Seattle|Ë•øÈõÖÂõæ|(Ê∑±|Ê≤™|Âëº|‰∫¨|Âπø|Êù≠)Áæé/,
    /ÁãÆÂüé|(Ê∑±|Ê≤™|Âëº|‰∫¨|Âπø|Êù≠)Êñ∞/,
    /(Ê∑±|Ê≤™|Âëº|‰∫¨|Âπø|Êù≠|‰∏≠|ËæΩ)Êó•(?!.*(I|Á∫ø))|Tokyo|‰∏ú‰∫¨|Shinagawa|ÂìÅÂ∑ù|Osaka|Â§ßÂùÇ/,
    /(Ê∑±|Ê≤™|Âëº|‰∫¨|Âπø|Êù≠)Ê∏Ø(?!.*(I|Á∫ø))|HongKong/,
  ],
  rureValue = [
    158, 137, 12, 10, 9, 7, 5, 4, 3, 2, 1, 0, 163, 158, 154, 137, 80, 79, 30,
    23, 13, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0,
  ];

function operator(proxies) {
  switch (inArg.out) {
    case "flag":
      outCountry = flag;
      break;
    case "en":
      outCountry = en;
      break;
    case "zh":
      outCountry = zh;
      break;
    default:
      outCountry = abbr;
  }
  if (clear) proxies = proxies.filter((proxy) => !nameclear.test(proxy.name));
  if (nx) proxies = proxies.filter((proxy) => !namenx.test(proxy.name));
  if (blnx) proxies = proxies.filter((proxy) => nameblnx.test(proxy.name));
  let geoi, i;
  if (addflag)
    return proxies.filter((proxy) => {
      const pname = proxy.name;
      for (geoi = 0; geoi < 190; geoi++) {
        if (pname.includes(flag[geoi])) break;
        if (pname.includes(en[geoi])) break;
        if (pname.includes(zh[geoi])) break;
      }
      if (geoi == 190) {
        for (geoi = 0; geoi < 190; geoi++)
          if (/\b${abbr[geoi]}\b/.test(pname)) break;
        if (geoi == 190)
          for (geoi = rureValue.length; geoi--; )
            if (rureRegExp[geoi].test(pname)) {
              geoi = rureValue[geoi];
              break;
            }
      }
      if (geoi == -1) {
        if (nm) return (proxy.name = FNAME + pname);
      } else {
        let retainKeys = [];
        if (blgd) {
          for (i = 0; i < regexpUse.length; i++)
            if (regexpUse[i].test(pname)) retainKeys.push(valueUse[i]);
          for (i = 0; i < regexpLanding1.length; i++)
            if (regexpLanding1[i].test(pname)) {
              retainKeys.push(valueLanding1[i]);
              break;
            }
          if (i == regexpLanding1.length)
            for (i = 0; i < regexpLanding2.length; i++)
              if (
                regexpLanding2[i].test(pname) ||
                regexpLanding2b[i].test(pname)
              ) {
                retainKeys.push(valueLanding2[i]);
                break;
              }
          for (i = 0; i < regexpEntryRegion.length; i++)
            if (
              regexpEntryRegion[i].test(pname) ||
              regexpEntryRegionb[i].test(pname)
            ) {
              retainKeys.push(valueEntryRegion[i]);
              break;
            }
          for (i = 0; i < regexpEntryCloud1.length; i++)
            if (regexpEntryCloud1[i].test(pname)) {
              retainKeys.push(valueEntryCloud1[i]);
              break;
            }
          if (i == regexpEntryCloud1.length)
            for (i = 0; i < regexpEntryCloud2.length; i++)
              if (
                regexpEntryCloud2[i].test(pname) ||
                regexpEntryCloud2b[i].test(pname)
              ) {
                retainKeys.push(valueEntryCloud2[i]);
                break;
              }
          for (i = 0; i < regexpEntryISP.length; i++)
            if (regexpEntryISP[i].test(pname) || regexpEntryISPb[i].test(pname))
              retainKeys.push(valueEntryISP[i]);
        }
        if (BLKEY)
          for (const k of BLKEY.split("+")) {
            const part = k.split(">");
            if (part[1]) {
              if (pname.includes(part[0])) retainKeys.push(part[1]);
            } else if (pname.includes(k)) retainKeys.push(k);
          }
        let ratioKey = "";
        if (bl) {
          const m = pname.match(
            /(?:ÂÄçÁéá|[Xx√ó])\D?((?:\d{1,3}\.)?\d+)|((?:\d{1,3}\.)?\d+)(?:ÂÄç|[Xx√ó])/
          );
          if (m) {
            const ratio = m[1] || m[2];
            if (ratio !== "1") ratioKey = ratio + "√ó";
          }
        }
        if (nf)
          return (proxy.name = [
            FNAME,
            flag[geoi],
            geoi == 12 ? outCountry[geoi] + "-BGP" : outCountry[geoi],
            retainKeys.join(FGF),
            ratioKey,
          ]
            .filter(Boolean)
            .join(FGF));
        else
          return (proxy.name = [
            flag[geoi],
            FNAME,
            geoi == 12 ? outCountry[geoi] + "-BGP" : outCountry[geoi],
            retainKeys.join(FGF),
            ratioKey,
          ]
            .filter(Boolean)
            .join(FGF));
      }
    });
  else
    return proxies.filter((proxy) => {
      const pname = proxy.name;
      for (geoi = 0; geoi < 190; geoi++) {
        if (pname.includes(flag[geoi])) break;
        if (pname.includes(en[geoi])) break;
        if (pname.includes(zh[geoi])) break;
      }
      if (geoi == 190) {
        for (geoi = 0; geoi < 190; geoi++)
          if (/\b${abbr[geoi]}\b/.test(pname)) break;
        if (geoi == 190)
          for (geoi = rureValue.length; geoi--; )
            if (rureRegExp[geoi].test(pname)) {
              geoi = rureValue[geoi];
              break;
            }
      }
      if (geoi == -1) {
        if (nm) return (proxy.name = FNAME + pname);
      } else {
        let retainKeys = [];
        if (blgd) {
          for (i = 0; i < regexpUse.length; i++)
            if (regexpUse[i].test(pname)) retainKeys.push(valueUse[i]);
          for (i = 0; i < regexpLanding1.length; i++)
            if (regexpLanding1[i].test(pname)) {
              retainKeys.push(valueLanding1[i]);
              break;
            }
          if (i == regexpLanding1.length)
            for (i = 0; i < regexpLanding2.length; i++)
              if (
                regexpLanding2[i].test(pname) ||
                regexpLanding2b[i].test(pname)
              ) {
                retainKeys.push(valueLanding2[i]);
                break;
              }
          for (i = 0; i < regexpEntryRegion.length; i++)
            if (
              regexpEntryRegion[i].test(pname) ||
              regexpEntryRegionb[i].test(pname)
            ) {
              retainKeys.push(valueEntryRegion[i]);
              break;
            }
          for (i = 0; i < regexpEntryCloud1.length; i++)
            if (regexpEntryCloud1[i].test(pname)) {
              retainKeys.push(valueEntryCloud1[i]);
              break;
            }
          if (i == regexpEntryCloud1.length)
            for (i = 0; i < regexpEntryCloud2.length; i++)
              if (
                regexpEntryCloud2[i].test(pname) ||
                regexpEntryCloud2b[i].test(pname)
              ) {
                retainKeys.push(valueEntryCloud2[i]);
                break;
              }
          for (i = 0; i < regexpEntryISP.length; i++)
            if (regexpEntryISP[i].test(pname) || regexpEntryISPb[i].test(pname))
              retainKeys.push(valueEntryISP[i]);
        }
        if (BLKEY)
          for (const k of BLKEY.split("+")) {
            const part = k.split(">");
            if (part[1]) {
              if (pname.includes(part[0])) retainKeys.push(part[1]);
            } else if (pname.includes(k)) retainKeys.push(k);
          }
        let ratioKey = "";
        if (bl) {
          const m = pname.match(
            /(?:ÂÄçÁéá|[Xx√ó])\D?((?:\d{1,3}\.)?\d+)|((?:\d{1,3}\.)?\d+)(?:ÂÄç|[Xx√ó])/
          );
          if (m) {
            const ratio = m[1] || m[2];
            if (ratio !== "1") ratioKey = ratio + "√ó";
          }
        }
        return (proxy.name = [
          FNAME,
          geoi == 12 ? outCountry[geoi] + "-BGP" : outCountry[geoi],
          retainKeys.join(FGF),
          ratioKey,
        ]
          .filter(Boolean)
          .join(FGF));
      }
    });
}
